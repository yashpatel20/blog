(this["webpackJsonpblog-frontend"]=this["webpackJsonpblog-frontend"]||[]).push([[0],{133:function(e,t,a){e.exports=a(183)},161:function(e,t,a){},183:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),l=(a(91),a(13)),i=a(40),u=a(6),s=a(17),m=a(7),p=a.n(m),d=a(11),b=a(23),f=a.n(b),g="/api/blogs",E=null,h=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(g);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:E}},e.next=3,f.a.get("".concat(g,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:E,"Content-type":"application/json"}},e.next=3,f.a.post(g,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:E,"Content-type":"application/json"}},e.next=3,f.a.put("".concat(g,"/like/").concat(t),a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:E,"Content-type":"application/json"}},e.next=3,f.a.put("".concat(g,"/unlike/").concat(t),a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:E,"Content-type":"application/json"}},e.next=3,f.a.put("".concat(g,"/comment/").concat(t),a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),S={getAll:h,getBlog:v,create:y,like:O,unlike:x,deleteReq:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:E,"Content-type":"application/json"}},e.next=3,f.a.delete("".concat(g,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),comment:j,setToken:function(e){E="bearer ".concat(e)}},k={getUserByID:function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat("/api/users","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signup:function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/api/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=a(224),A=a(36),I=a.n(A),N={login:function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=function(){return function(e){window.localStorage.removeItem("BlogToken"),S.setToken(""),e({type:"SET_UNAUTHENTICATED"})}},R=function(e){return function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"LOADING_USER"}),t.prev=1,t.next=4,k.getUserByID(e);case 4:n=t.sent,a({type:"SET_USER",payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},T=a(16),C=a(215),U=a(223),L=a(237),W=a(220),D=a(221),F=a(222),G=a(109),V=a.n(G),z=a(236),q=Object(C.a)({deleteButton:{position:"absolute",left:"90%",top:"10%"}}),Y=function(e){var t=e.blogId,a=Object(u.c)((function(e){return e.user.id})),c=q(),o=Object(u.b)(),l=Object(n.useState)(!1),i=Object(T.a)(l,2),s=i[0],m=i[1],b=function(){return m(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(L.a,{title:"Delete",placement:"top"},r.a.createElement(W.a,{onClick:function(){return m(!0)},className:c.deleteButton},r.a.createElement(V.a,{color:"secondary"}))),r.a.createElement(z.a,{open:s,onClose:b,fullWidth:!0,maxWidth:"sm"},r.a.createElement(D.a,null,"Are you sure you want to delete this blog?"),r.a.createElement(F.a,null,r.a.createElement(U.a,{onClick:b,color:"primary"},"Cancel"),r.a.createElement(U.a,{onClick:function(){o(function(e,t){return function(){var a=Object(d.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S.deleteReq(e);case 3:return a.sent,n({type:"DELETE_BLOG",payload:e}),a.next=7,k.getUserByID(t);case 7:r=a.sent,n({type:"SET_USER",payload:r}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(t,a)),m(!1)},color:"secondary"},"Delete"))))},M=a(74),P=a(79),K=a.n(P),H=a(71),J=a.n(H),_=function(e){var t=e.blogId,a=(e.userHandle,e.title),c=(e.author,e.url,e.likes,Object(u.c)((function(e){return e.user}))),o=Object(u.c)((function(e){return e.data})),i=Object(u.b)(),s=c.authenticated?c.likes&&c.likes.find((function(e){return e.toString()===t}))?r.a.createElement(L.a,{title:"Undo like",placement:"top"},r.a.createElement(W.a,{onClick:function(){var e=o.blogs.find((function(e){return e.title===a})),t=e.likedBy.filter((function(e){return e.toString()!==c.id})),n={title:e.title,author:e.author,url:e.url,likes:e.likes-1,likedBy:t,user:e.user};i(function(e,t,a){return function(){var n=Object(d.a)(p.a.mark((function n(r){var c,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S.unlike(e,t);case 3:return n.sent,n.next=6,S.getAll();case 6:return c=n.sent,n.next=9,k.getUserByID(a);case 9:o=n.sent,r({type:"UNLIKE_BLOG",payload:c}),r({type:"SET_USER",payload:o}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}()}(e.id,n,c.id))}},r.a.createElement(K.a,{color:"primary"}))):r.a.createElement(L.a,{title:"Like",placement:"top"},r.a.createElement(W.a,{onClick:function(){var e=o.blogs.find((function(e){return e.title===a})),t={title:e.title,author:e.author,url:e.url,likes:e.likes+1,likedBy:[].concat(Object(M.a)(e.likedBy),[c.id]),user:e.user};i(function(e,t,a){return function(){var n=Object(d.a)(p.a.mark((function n(r){var c,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S.like(e,t);case 3:return n.sent,n.next=6,S.getAll();case 6:return c=n.sent,n.next=9,k.getUserByID(a);case 9:o=n.sent,r({type:"LIKE_BLOG",payload:c}),r({type:"SET_USER",payload:o}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}()}(e.id,t,c.id))}},r.a.createElement(J.a,{color:"primary"}))):r.a.createElement(L.a,{title:"like",placement:"top"},r.a.createElement(W.a,null,r.a.createElement(l.b,{to:"/login"},r.a.createElement(J.a,{color:"primary"}))));return r.a.createElement(n.Fragment,null,s)},Z=a(121),X=Object(C.a)({visibleSeparator:{width:"100%",borderBottom:"1px solid rbga(0,0,0,0.1)",marginBotton:20},invisibleSeparator:{border:"none",margin:4},commentImage:{maxWidth:"100%",height:100,objectFit:"cover",borderRadius:"50%"},commentData:{marginLeft:20}}),Q=function(){var e=X(),t=Object(u.c)((function(e){return e.data.myBlog})).comments.map((function(t,a){var c=t.comment,o=t.byUser.username;return r.a.createElement(n.Fragment,{key:o},r.a.createElement(w.a,{item:!0,sm:12},r.a.createElement(w.a,{container:!0},r.a.createElement(w.a,{item:!0,sm:2},r.a.createElement("img",{src:I.a,className:e.commentImage,alt:"user iamge"})),r.a.createElement(w.a,{item:!0,sm:9},r.a.createElement("div",{className:e.commentData},r.a.createElement(Z.a,{variant:"h5",componenet:l.b,to:"/users/".concat(o),color:"primary"},"@",o),r.a.createElement("hr",{className:e.invisibleSeparator}),r.a.createElement(Z.a,{variant:"body1"},c))))))}));return r.a.createElement(n.Fragment,null,t)},$=a(234),ee=Object(C.a)({visibleSeparator:{width:"100%",borderBottom:"1px solid rbga(0,0,0,0.1)",marginBotton:20},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"}}),te=function(e){var t=e.blogId,a=ee(),c=Object(u.b)(),o=Object(u.c)((function(e){return e.user})),l=Object(u.c)((function(e){return e.data.myBlog})),i=Object(n.useState)(""),s=Object(T.a)(i,2),m=s[0],b=s[1],f=o.authenticated?r.a.createElement(w.a,{item:!0,sm:12,style:{textAlign:"center"}},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=l.comments.map((function(e){return{comment:e.comment,byUser:e.byUser.id}})).concat({comment:m,byUser:o.id}),n={title:l.title,author:l.author,url:l.url,likes:l.likes,noOfComments:l.noOfComments+1,comments:a,likedBy:l.likedBy,user:l.user.id};c(function(e,t,a){return function(){var n=Object(d.a)(p.a.mark((function n(r){var c,o,l;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S.comment(e,t);case 3:return n.sent,n.next=6,S.getAll();case 6:return c=n.sent,n.next=9,k.getUserByID(a);case 9:return o=n.sent,n.next=12,S.getBlog(e);case 12:l=n.sent,r({type:"SUBMIT_COMMENT",payload:c}),r({type:"SET_USER",payload:o}),r({type:"SET_BLOG",payload:l}),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(0),console.log(n.t0);case 21:case"end":return n.stop()}}),n,null,[[0,18]])})));return function(e){return n.apply(this,arguments)}}()}(t,n,o.id)),b("")}},r.a.createElement($.a,{name:"body",type:"text",label:"comment",value:m,onChange:function(e){return b(e.target.value)},className:a.textfield,fullWidth:!0}),r.a.createElement(U.a,{type:"submit",variant:"contained",color:"primary",className:a.button},"Submit"))):null;return r.a.createElement(n.Fragment,null,f)},ae=a(111),ne=a.n(ae),re=a(225),ce=a(226),oe=a(72),le=a.n(oe),ie=a(59),ue=a.n(ie),se=Object(C.a)({visibleSeparator:{width:"100%",borderBottom:"1px solid rbga(0,0,0,0.1)",marginBotton:20},invisibleSeparator:{border:"none",margin:4},profileImage:{maxWidth:200,height:220,borderRadius:"50%",objectFit:"cover"},closeButton:{position:"absolute",left:"90%"},dialogContent:{padding:20},expandButton:{position:"absolute",left:"90%"},spinnerDiv:{textAlign:"center",marginTop:50,marginBottom:50}}),me=function(e){var t=e.blogId,a=e.userHandle,c=e.title,o=e.author,i=e.url,s=e.likes,m=e.noOfComments,b=Object(u.b)(),f=se(),g=Object(u.c)((function(e){return e.data.myBlog})).user,E=Object(u.c)((function(e){return e.UI.loading})),h=Object(n.useState)(!1),v=Object(T.a)(h,2),y=v[0],O=v[1],x=function(){return O(!1)},j=E?r.a.createElement("div",{className:f.spinnerDiv},r.a.createElement(re.a,{size:200,thickness:2})):r.a.createElement(w.a,{container:!0,spacing:16},r.a.createElement(w.a,{item:!0,sm:5},r.a.createElement("img",{src:I.a,alt:"Profile",className:f.profileImage})),r.a.createElement(w.a,{item:!0,sm:7},r.a.createElement(Z.a,{component:l.b,color:"primary",variant:"h5",to:"/users/".concat(g.username)},"@",g.username),r.a.createElement("hr",{className:f.invisibleSeparator}),r.a.createElement(Z.a,{variant:"body1"},c),r.a.createElement(_,{blogId:t,userHandle:a,title:c,author:o,url:i,likes:s}),r.a.createElement("span",null,s," Likes"),r.a.createElement(L.a,{title:"comments",placement:"top"},r.a.createElement(W.a,null,r.a.createElement(ue.a,null))),r.a.createElement("span",null,m," Comments")),r.a.createElement("hr",{className:f.visibleSeparator}),r.a.createElement(te,{blogId:t}),r.a.createElement(Q,null));return r.a.createElement(n.Fragment,null,r.a.createElement(L.a,{title:"Expand Blog",placement:"top"},r.a.createElement(W.a,{onClick:function(){var e;O(!0),b((e=t,function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"LOADING_UI"}),t.prev=1,t.next=4,S.getBlog(e);case 4:n=t.sent,console.log(n),a({type:"SET_BLOG",payload:n}),a({type:"STOP_LOADING_UI"}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"STOP_LOADING_UI"}),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()))},className:f.expandButton},r.a.createElement(ne.a,{color:"primary"}))),r.a.createElement(z.a,{open:y,onClose:x,fullWidth:!0,maxWidth:"sm"},r.a.createElement(L.a,{title:"Close",placement:"top"},r.a.createElement(W.a,{onClick:x,className:f.closeButton},r.a.createElement(le.a,null))),r.a.createElement(ce.a,{className:f.dialogContent},j)))},pe=a(227),de=a(229),be=a(228),fe=Object(C.a)({card:{position:"relative",display:"flex",marginBottom:20,marginRight:20},image:{minWidth:200},content:{padding:25,objectFit:"cover"}}),ge=function(e){var t=e.blogId,a=e.userHandle,n=e.title,c=e.author,o=e.url,l=e.likes,i=e.noOfComments,s=Object(u.c)((function(e){return e.user})),m=(Object(u.c)((function(e){return e.data})),Object(u.b)(),fe()),p=s.authenticated&&s.id===a.toString()?r.a.createElement(Y,{blogId:t}):null;return r.a.createElement(pe.a,{className:m.card},r.a.createElement(be.a,{image:I.a,title:"Profile image",className:m.image}),r.a.createElement(de.a,{className:m.content},r.a.createElement(Z.a,{variant:"h5",component:"h2"},n),p,r.a.createElement(Z.a,{color:"textSecondary",variant:"body2",component:"p"},c),r.a.createElement(Z.a,{color:"textSecondary",variant:"body2",component:"p"},o),r.a.createElement(_,{blogId:t,userHandle:a,title:n,author:c,url:o,likes:l}),r.a.createElement("span",null,l," Likes"),r.a.createElement(L.a,{title:"comments",placement:"top"},r.a.createElement(W.a,null,r.a.createElement(ue.a,null))),r.a.createElement("span",null,i," Comments"),s.authenticated?r.a.createElement(me,{blogId:t,userHandle:a,title:n,author:c,url:o,likes:l,noOfComments:i}):null))},Ee=a(120),he=a(230),ve=a(112),ye=a.n(ve),Oe=Object(C.a)({palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:220,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}}),xe=function(){var e=Object(u.b)(),t=Oe(),a=Object(u.c)((function(e){return e.user})),n=a.username,c=a.name,o=a.id,i=(a.blogs,a.loading),s=a.authenticated;return i?r.a.createElement("p",null,"Loading...."):s?r.a.createElement(Ee.a,{className:t.paper},r.a.createElement("div",{className:t.profile},r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{src:I.a,alt:"profile",className:"profile-image"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-details"},r.a.createElement(he.a,{component:l.b,to:"/user/".concat(n),color:"primary",variant:"h5"},"@",n),r.a.createElement("hr",null),r.a.createElement(Z.a,null,c),r.a.createElement("hr",null),r.a.createElement(Z.a,null,o),r.a.createElement("hr",null)),r.a.createElement(l.b,{to:"/"},r.a.createElement(L.a,{title:"Logout",placement:"top"},r.a.createElement(W.a,{onClick:function(){e(B())}},r.a.createElement(ye.a,{color:"primary"})))))):r.a.createElement(Ee.a,{className:t.paper},r.a.createElement(Z.a,{variant:"body2",align:"center"},"No profile found, please login again"),r.a.createElement("div",{className:t.buttons},r.a.createElement(U.a,{variant:"contained",color:"primary",component:l.b,to:"/login"},"Login"),r.a.createElement(U.a,{variant:"contained",color:"secondary",component:l.b,to:"/signup"},"Sign up")))},je=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.data}));Object(n.useEffect)((function(){e(function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING_DATA"}),e.prev=1,e.next=4,S.getAll();case 4:a=e.sent,t({type:"SET_BLOGS",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var a=t.blogs.map((function(e){return r.a.createElement(ge,{key:e.id,blogId:e.id,userHandle:e.user,title:e.title,author:e.author,url:e.url,likes:e.likes,noOfComments:e.noOfComments})}));return r.a.createElement(w.a,{container:!0,spacing:1},r.a.createElement(w.a,{item:!0,sm:8,xs:12},a),r.a.createElement(w.a,{item:!0,sm:4,xs:12},r.a.createElement(xe,null)))},Se=a(73),ke=a.n(Se),we=Object(C.a)({form:{textAlign:"center"},button:{marginTop:20,position:"relative"},progress:{position:"absolute"},pageTitle:{margin:"10px auto 10px auto 10px"},image:{margin:"20px auto 20px auto"},textField:{margin:"10px auto 10px auto"},unsuccessful:{color:"red",fontSize:"0.8rem"},successful:{color:"green",fontSize:"0.8rem"}}),Ae=function(){var e=we(),t=Object(u.b)(),a=(Object(u.c)((function(e){return e.user})),Object(u.c)((function(e){return e.UI}))),c=Object(i.g)(),o=Object(n.useState)(""),s=Object(T.a)(o,2),m=s[0],b=s[1],f=Object(n.useState)(""),g=Object(T.a)(f,2),E=g[0],h=g[1];return r.a.createElement(w.a,{container:!0,className:e.form},r.a.createElement(w.a,{item:!0,sm:!0}),r.a.createElement(w.a,{item:!0,sm:!0},r.a.createElement("img",{src:ke.a,className:e.image,alt:"art"}),r.a.createElement(Z.a,{variant:"h3",className:e.pageTitle},"Login"),r.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),t(function(e,t){return function(){var a=Object(d.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"LOADING_UI"}),a.prev=1,a.next=4,N.login(e);case 4:r=a.sent,localStorage.setItem("BlogToken",JSON.stringify(r)),S.setToken(r.token),n(R(r.id)),n({type:"CLEAR_ERRORS"}),t.push("/"),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),n({type:"SET_ERRORS",payload:"Wrong credentials"});case 15:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}()}({username:m,password:E},c))}},r.a.createElement($.a,{id:"username",className:e.textField,value:m,onChange:function(e){return b(e.target.value)},label:"username",type:"text",helperText:""!==a.errors?"Enter correct username":"",error:""!==a.errors,fullWidth:!0}),r.a.createElement($.a,{id:"password",className:e.textField,value:E,onChange:function(e){return h(e.target.value)},label:"password",type:"password",helperText:""!==a.errors?"Enter correct password":"",error:""!==a.errors,fullWidth:!0}),""!==a.errors&&r.a.createElement(Z.a,{variant:"body2",className:e.unsuccessful},a.errors),r.a.createElement(U.a,{type:"submit",variant:"contained",color:"primary",className:e.button,disabled:a.loading},"Login",a.loading&&r.a.createElement(re.a,{size:30,className:e.progress})),r.a.createElement("br",null),r.a.createElement("small",null,"dont have an account? sign up ",r.a.createElement(l.b,{to:"/signup"},"here")))),r.a.createElement(w.a,{item:!0,sm:!0}))},Ie=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.user}));Object(n.useEffect)((function(){e(R(t.id))}),[]);var a=t.authenticated&&void 0!==t.blogs?t.blogs.map((function(e){return r.a.createElement(ge,{key:e.id,blogId:e.id,userHandle:t.id,title:e.title,author:e.author,url:e.url,likes:e.likes,noOfComments:e.noOfComments})})):null;return r.a.createElement(w.a,{container:!0,spacing:1},r.a.createElement(w.a,{item:!0,sm:8,xs:12},a),r.a.createElement(w.a,{item:!0,sm:4,xs:12},r.a.createElement(xe,null)))},Ne=Object(C.a)({form:{textAlign:"center"},button:{marginTop:20,position:"relative"},progress:{position:"absolute"},pageTitle:{margin:"10px auto 10px auto 10px"},image:{margin:"20px auto 20px auto"},textField:{margin:"10px auto 10px auto"},unsuccessful:{color:"red",fontSize:"0.8rem"},successful:{color:"green",fontSize:"0.8rem"}}),Be=function(){var e=Ne(),t=Object(i.g)(),a=Object(u.b)(),c=Object(u.c)((function(e){return e.UI})),o=Object(n.useState)(""),s=Object(T.a)(o,2),m=s[0],b=s[1],f=Object(n.useState)(""),g=Object(T.a)(f,2),E=g[0],h=g[1],v=Object(n.useState)(""),y=Object(T.a)(v,2),O=y[0],x=y[1],j=Object(n.useState)(""),A=Object(T.a)(j,2),I=A[0],N=A[1];return r.a.createElement(w.a,{container:!0,className:e.form},r.a.createElement(w.a,{item:!0,sm:!0}),r.a.createElement(w.a,{item:!0,sm:!0},r.a.createElement("img",{src:ke.a,className:e.image,alt:"art"}),r.a.createElement(Z.a,{variant:"h3",className:e.pageTitle},"Sign Up"),r.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),a(function(e,t){return function(){var a=Object(d.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"LOADING_UI"}),a.prev=1,a.next=4,k.signup(e);case 4:r=a.sent,localStorage.setItem("BlogToken",JSON.stringify(r)),S.setToken(r.token),n(R(r.id)),n({type:"CLEAR_ERRORS"}),t.push("/"),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),n({type:"SET_ERRORS",payload:"Username must be unique"});case 15:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}()}({username:m,name:E,password:O},t)),b(""),h(""),x(""),N("")}},r.a.createElement($.a,{id:"username",className:e.textField,value:m,onChange:function(e){return b(e.target.value)},label:"Username",type:"text",helperText:""!==c.errors?"username must be unique":"",error:""!==c.errors,fullWidth:!0}),r.a.createElement($.a,{id:"name",className:e.textField,value:E,onChange:function(e){return h(e.target.value)},label:"Name",type:"text",fullWidth:!0}),r.a.createElement($.a,{id:"password",className:e.textField,value:O,onChange:function(e){return x(e.target.value)},label:"Password",type:"password",fullWidth:!0}),r.a.createElement($.a,{id:"confirmPassword",className:e.textField,value:I,onChange:function(e){return N(e.target.value)},label:"Retype password",type:"password",helperText:I!==O?"passwords do not match":"",error:I!==O,fullWidth:!0}),""!==c.errors&&r.a.createElement(Z.a,{variant:"body2",className:e.unsuccessful},c.errors),r.a.createElement(U.a,{type:"submit",variant:"contained",color:"primary",className:e.button,disabled:c.loading},"Signup",c.loading&&r.a.createElement(re.a,{size:30,className:e.progress})),r.a.createElement("br",null),r.a.createElement("small",null,"Already have an account? Log in ",r.a.createElement(l.b,{to:"/login"},"here")))),r.a.createElement(w.a,{item:!0,sm:!0}))},Re=a(231),Te=a(232),Ce=a(80),Ue=a.n(Ce),Le=Object(C.a)({submitButton:{position:"relative",float:"right",marginTop:10},progressSpinner:{position:"absolute"},closeButton:{position:"absolute",left:"91%",top:"6%"}}),We=function(){var e=Object(u.b)(),t=Le(),a=Object(n.useState)(!1),c=Object(T.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(""),m=Object(T.a)(i,2),b=m[0],f=m[1],g=Object(n.useState)(""),E=Object(T.a)(g,2),h=E[0],v=E[1],y=Object(n.useState)(""),O=Object(T.a)(y,2),x=O[0],j=O[1],w=Object(n.useState)(0),A=Object(T.a)(w,2),I=A[0],N=A[1],B=Object(n.useState)(0),R=Object(T.a)(B,2),C=R[0],F=R[1],G=Object(u.c)((function(e){return e.UI})),V=Object(u.c)((function(e){return e.user.id})),q=function(){return l(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(L.a,{title:"Post a Blog",placement:"top"},r.a.createElement(W.a,{onClick:function(){return l(!0)}},r.a.createElement(Ue.a,null))),r.a.createElement(z.a,{open:o,onClose:q,fullWidth:!0,maxWidth:"sm"},r.a.createElement(L.a,{title:"Close",placement:"top"},r.a.createElement(W.a,{onClick:q,className:t.closeButton},r.a.createElement(le.a,null))),r.a.createElement(D.a,null,"Post a new Blog"),r.a.createElement(ce.a,null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(function(e,t){return function(){var a=Object(d.a)(p.a.mark((function a(n){var r,c,o;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"LOADING_UI"}),r=Object(s.a)({},e,{likedBy:[],comments:[]}),a.prev=2,a.next=5,S.create(r);case 5:return c=a.sent,n({type:"POST_BLOG",payload:c}),n({type:"CLEAR_ERRORS"}),a.next=10,k.getUserByID(t);case 10:o=a.sent,n({type:"SET_USER",payload:o}),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(2),console.log(a.t0);case 17:case"end":return a.stop()}}),a,null,[[2,14]])})));return function(e){return a.apply(this,arguments)}}()}({title:b,author:h,url:x,likes:I,noOfComments:C},V)),l(!1),f(""),v(""),j(""),N(""),F("")}},r.a.createElement($.a,{name:"title",type:"text",label:"Title",placeholder:"Title",className:t.textField,onChange:function(e){return f(e.target.value)},fullWidth:!0}),r.a.createElement($.a,{name:"author",type:"text",label:"Author",placeholder:"Author",className:t.textField,onChange:function(e){return v(e.target.value)},fullWidth:!0}),r.a.createElement($.a,{name:"url",type:"text",label:"URL",placeholder:"URL",className:t.textField,onChange:function(e){return j(e.target.value)},fullWidth:!0}),r.a.createElement(U.a,{type:"submit",variant:"contained",color:"primary",className:t.submitButton,disabled:G.loading},"Submit",G.loading&&r.a.createElement(re.a,{size:30,className:t.progressSpinner}))))))},De=(a(161),a(113)),Fe=a.n(De),Ge=a(114),Ve=a.n(Ge),ze=function(){var e=Object(u.c)((function(e){return e.user.authenticated})),t=Object(u.c)((function(e){return e.user.username}));return r.a.createElement(Re.a,null,r.a.createElement(Te.a,{className:"nav-container"},e?r.a.createElement(n.Fragment,null,r.a.createElement(We,null),r.a.createElement(l.b,{to:"/"},r.a.createElement(L.a,{title:"Home",placement:"top"},r.a.createElement(W.a,null,r.a.createElement(Fe.a,null)))),r.a.createElement(l.b,{to:"/user/".concat(t)},r.a.createElement(L.a,{title:"Account",placement:"top"},r.a.createElement(W.a,null,r.a.createElement(Ve.a,null))))):r.a.createElement(n.Fragment,null,r.a.createElement(U.a,{color:"inherit",component:l.b,to:"/"},"Home"),r.a.createElement(U.a,{color:"inherit",component:l.b,to:"/login"},"Login"),r.a.createElement(U.a,{color:"inherit",component:l.b,to:"/signup"},"Signup"))))},qe=a(115),Ye=a.n(qe),Me=a(233),Pe=a(116),Ke=a.n(Pe)()({palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0}});var He=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.user.authenticated}));return Object(u.c)((function(e){return e.data.blogs})),Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("BlogToken"));t&&t.token&&(1e3*Ye()(t.token).exp<Date.now()?(e(B()),window.location.href="/login"):(e({type:"SET_AUTHENTICATED"}),S.setToken(t.token),e(R(t.id))))}),[e]),r.a.createElement(Me.a,{theme:Ke},r.a.createElement(l.a,null,r.a.createElement(ze,null),r.a.createElement("div",{className:"container"},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/login"},!1===t?r.a.createElement(Ae,null):r.a.createElement(i.a,{to:"/signup"})),r.a.createElement(i.b,{path:"/signup"},!1===t?r.a.createElement(Be,null):r.a.createElement(i.a,{to:"/"})),r.a.createElement(i.b,{path:"/user/:username"},r.a.createElement(Ie,null)),r.a.createElement(i.b,{path:"/"},r.a.createElement(je,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Je=a(43),_e=a(117),Ze=a(118),Xe={authenticated:!1,loading:!1,username:"",name:"",blogs:[],id:""},Qe={blogs:[],myBlog:{user:{username:"yash"}},loading:!1},$e={loading:!1,errors:""},et=Object(Je.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return Object(s.a)({authenticated:!0},e);case"SET_UNAUTHENTICATED":return Xe;case"SET_USER":return Object(s.a)({authenticated:!0,loading:!1},t.payload);case"LOADING_USER":return Object(s.a)({},e,{loading:!0});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_DATA":return Object(s.a)({},e,{loading:!0});case"SET_BLOG":return Object(s.a)({},e,{myBlog:t.payload});case"SET_BLOGS":case"LIKE_BLOG":case"UNLIKE_BLOG":return Object(s.a)({},e,{blogs:t.payload,loading:!1});case"SUBMIT_COMMENT":return Object(s.a)({},e,{blogs:t.payload});case"POST_BLOG":return Object(s.a)({},e,{blogs:[t.payload].concat(Object(M.a)(e.blogs))});case"DELETE_BLOG":var a=e.blogs.findIndex((function(e){return e.id===t.payload}));return e.blogs.splice(a,1),Object(s.a)({},e);default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERRORS":return Object(s.a)({},e,{loading:!1,errors:t.payload});case"CLEAR_ERRORS":return Object(s.a)({},e,{loading:!1,errors:""});case"LOADING_UI":return Object(s.a)({},e,{loading:!0});case"STOP_LOADING_UI":return Object(s.a)({},e,{loading:!1});default:return e}}}),tt=Object(Je.createStore)(et,Object(Ze.composeWithDevTools)(Object(Je.applyMiddleware)(_e.a)));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:tt},r.a.createElement(He,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,t,a){e.exports=a.p+"static/media/avatar.4959bb3d.png"},73:function(e,t){e.exports="data:image/png;base64,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"},91:function(e,t,a){}},[[133,1,2]]]);
//# sourceMappingURL=main.cf60b642.chunk.js.map